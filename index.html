<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GreenCart üåø</title>
  <style>
    /* Basic styles */
    * { box-sizing: border-box; margin:0; padding:0; }
    html,body { font-family: sans-serif; background: #eef9f4; color: #004d26; line-height:1.5; }
    img { max-width:100%; height:auto; display:block; }
    header { text-align:center; padding:2rem; background:#a5d6a7; color:#1b5e20; }
    .container { width:90%; max-width:1200px; margin:2rem auto; }
    .grid { display:grid; gap:1.5rem; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); }
    article { background:#fff; padding:1rem; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); display:flex; flex-direction:column; align-items:center; }
    article img { border-radius:4px; margin-bottom:1rem; max-height:200px; object-fit:cover; }
    .price { color:#2e7d32; font-weight:bold; margin-top:0.5rem; text-align:center; }
    .offer { font-size:0.9rem; color:#d84315; }
    button { margin-top:auto; padding:0.5rem 1rem; background:#2e7d32; color:#fff; border:none; border-radius:5px; cursor:pointer; transition:background .3s; }
    button:hover { background:#1b5e20; }

    /* Cart styles */
    #toggle-cart { position:fixed; bottom:1rem; right:1rem; background:#2e7d32; color:#fff; border:none; padding:.75rem 1rem; border-radius:5px; cursor:pointer; }
    .cart { display:none; position:fixed; bottom:4rem; right:1rem; background:#fff; border:1px solid #ccc; border-radius:8px; width:280px; max-height:70vh; overflow-y:auto; padding:1rem; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
    .cart ul { list-style:none; margin-bottom:1rem; padding-left:1rem; max-height:200px; overflow-y:auto; }

    /* Checkout modal */
    #checkout-modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; }
    #checkout-modal .modal-content { background:#fff; padding:2rem; border-radius:8px; width:90%; max-width:400px; }
    #checkout-modal input, #checkout-modal textarea { width:100%; padding:.5rem; margin:.5rem 0; border:1px solid #ccc; border-radius:4px; }
    #checkout-confirmation { display:none; text-align:center; padding:2rem; background:#e8f5e9; color:#2e7d32; margin:2rem auto; border:2px solid #c8e6c9; border-radius:1rem; max-width:600px; }

    /* Testimonials */
    #testimonials { margin-top:2rem; }
    #testimonials h2 { text-align:center; margin-bottom:1rem; color:#2e7d32; }
    .testimonial-grid { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); margin-bottom:2rem; }
    blockquote { background:#fff; border-left:4px solid #66bb6a; padding:1rem; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.05); }

    /* Subscribe section */
    #subscribe { padding:2rem 0; background:#fff; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.05); margin-bottom:2rem; }
    #subscribe h2 { text-align:center; margin-bottom:1rem; color:#004d26; }
    #subscribe p { text-align:center; margin-bottom:1rem; }
    .subscribe-grid { display:grid; gap:1rem; max-width:500px; margin:0 auto; }
    .subscribe-grid input, .subscribe-grid button { padding:.75rem; border:1px solid #ccc; border-radius:5px; width:100%; font-size:1rem; }
    .subscribe-grid button { background:#2e7d32; color:#fff; border:none; cursor:pointer; transition:background .3s; }
    .subscribe-grid button:hover { background:#1b5e20; }
    #subscribe-msg { text-align:center; margin-top:0.5rem; color:#2e7d32; }
  </style>
</head>

<body>
<header>
  <h1>GreenCart üåø</h1>
  <p>Your one‚Äëstop shop for sustainable living.</p>
</header>

<main class="container">
  <!-- Products -->
  <section>
    <h2>üå± Featured Products</h2>
    <div class="grid" id="product-grid"></div>
  </section>

  <!-- Testimonials -->
  <section id="testimonials">
    <h2>üí¨ What Our Customers Say</h2>
    <div class="testimonial-grid">
      <blockquote>‚ÄúI love how easy it is to find eco‚Äëfriendly alternatives!‚Äù<br><strong>- Anjali R.</strong></blockquote>
      <blockquote>‚ÄúGreenCart helped me switch sustainably without compromising quality.‚Äù<br><strong>- Rohan M.</strong></blockquote>
      <blockquote>‚ÄúAffordable, beautiful, and eco‚Äëconscious.‚Äù<br><strong>- Priya S.</strong></blockquote>
    </div>
  </section>

  <!-- Subscribe -->
  <section id="subscribe">
    <h2>üì¨ Subscribe to GreenCart</h2>
    <p>Get updates and exclusive eco-friendly offers.</p>
    <form class="subscribe-grid" onsubmit="subscribeForm(event)">
      <input type="text" id="subscriber-name" placeholder="Your name" required>
      <input type="email" id="subscriber-email" placeholder="Your email" required>
      <button type="submit">Subscribe</button>
    </form>
    <p id="subscribe-msg"></p>
  </section>
</main>

<button id="toggle-cart">üõí Cart</button>
<div class="cart">
  <h4>Shopping Cart</h4>
  <ul id="cart-items"></ul>
  <p><strong>Total:</strong> $<span id="total">0.00</span></p>
  <button onclick="clearCart()">Clear Cart</button>
  <button onclick="checkout()">Checkout</button>
  <p id="checkout-msg"></p>
</div>

<!-- Checkout & Review Form -->
<div id="checkout-modal">
  <div class="modal-content">
    <h4>Checkout & Review</h4>
    <div id="order-summary"></div>
    <form id="checkout-form" action="https://formspree.io/f/xkgbvbyg" method="POST">
      <input name="name" placeholder="Name" required>
      <input name="email" type="email" placeholder="Email" required>
      <textarea name="review" rows="3" placeholder="Leave a review..." required></textarea>
      <textarea name="order_details" id="order-summary-field" hidden></textarea>
      <div style="text-align:right">
        <button type="button" onclick="closeModal()">Cancel</button>
        <button type="submit">Confirm</button>
      </div>
    </form>
  </div>
</div>

<div id="checkout-confirmation">
  <h3>üéâ Thank You!</h3>
  <p>Your order and review have been submitted. We appreciate your support! üåç</p>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const products = [
    { name:"Bamboo Toothbrush", price:3.99, img:"Toothbrush.png" },
    { name:"Reusable Water Bottle", price:15.99, img:"Bottle.png" },
    { name:"Organic Soap Bar", price:5.49, img:"Soap.png" }
  ];
  const grid = document.getElementById("product-grid");
  grid.innerHTML = products.map(p => `
    <article>
      <img src="${p.img}" alt="${p.name}">
      <h4>${p.name}</h4>
      <p class="price">$${p.price.toFixed(2)}
        ${p.name==='Bamboo Toothbrush'?'<span class="offer">(Buy‚ÄØ2, get‚ÄØ1 free!)</span>':''}
        ${p.name==='Reusable Water Bottle'?'<span class="offer">(10% off!)</span>':''}
      </p>
      <button onclick="addToCart('${p.name}',${p.price})">Add to Cart</button>
    </article>`).join('');

  let cart = [], cartItems = document.getElementById("cart-items"), totalEl = document.getElementById("total");

  document.getElementById("toggle-cart").onclick = () => {
    const c = document.querySelector('.cart');
    c.style.display = c.style.display==='block'?'none':'block';
  };

  window.addToCart = (item, price) => { cart.push({item,price}); renderCart(); }
  window.clearCart = () => { cart=[]; renderCart(); }

  function renderCart() {
    cartItems.innerHTML = '';
    let total = 0;
    cart.forEach(({item,price}) => {
      total += price;
      cartItems.innerHTML += `<li>${item} ‚Äì $${price.toFixed(2)}</li>`;
    });
    totalEl.textContent = total.toFixed(2);
  }

  window.checkout = () => {
    if (!cart.length) {
      document.getElementById("checkout-msg").textContent = "Your cart is empty.";
      return;
    }
    let html="<ul>", summary="", total=0;
    cart.forEach(({item,price}) => {
      html += `<li>${item} ‚Äì $${price.toFixed(2)}</li>`;
      summary += `${item} ‚Äì $${price.toFixed(2)}\n`;
      total += price;
    });
    html += `</ul><p><strong>Total:</strong> $${total.toFixed(2)}</p>`;
    document.getElementById("order-summary").innerHTML = html;
    document.getElementById("order-summary-field").value = summary;
    document.getElementById("checkout-msg").textContent = "";
    document.getElementById("checkout-modal").style.display = 'flex';
  };

  window.closeModal = () => document.getElementById("checkout-modal").style.display = 'none';

  document.getElementById("checkout-form").addEventListener("submit", function(e) {
    // Let Formspree handle submission
    cart = []; renderCart(); closeModal();
    document.getElementById("checkout-confirmation").style.display = 'block';
  });

  window.subscribeForm = e => {
    e.preventDefault();
    const name = document.getElementById("subscriber-name").value;
    document.getElementById("subscribe-msg").textContent = `Thanks, ${name}! You've subscribed.`;
    e.target.reset();
  };

  renderCart();
});
</script>

</body>
</html>
